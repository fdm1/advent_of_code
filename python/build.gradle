def imageName = "code_advent_image"

task build(type: Exec) {
  commandLine "docker",  "build", "-t", imageName, "."
}

task pytest(type: Exec) {
  dependsOn build
  commandLine "docker", "run", imageName, "pytest"
}

task pylint(type: Exec) {
  dependsOn build
  commandLine "docker", "run", imageName, "./ci/pylint.sh"
}

task test() {
  dependsOn pytest
  dependsOn pylint
}